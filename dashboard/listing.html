<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mokesell New & Featured</title>
    <link rel="stylesheet" href="/css/dashboard.css">
    <script type="module" src="/js/dashboard.js"></script>
</head>
<body>
    <header>
        <div class="navbar">
            <div class="logo"><img src="/pngs/Mokesell.png" alt="mainlogo"></div>
            <nav>
                <ul>
                    <a class="newf" href="/index.html">New & Featured</a>
                    <a class="newf" href="/Men.html">Men</a>
                    <a class="newf" href="/Women.html">Women</a>
                    <a class="newf" href="/Kids.html">Kids</a>
                    <a class="newf" href="/Sale.html">Sale</a>
                </ul>
            </nav>
            <div class="profile-container">
                <img src="/pngs/profile.jpg" alt="Profile" class= "profile-icon" onclick="toggleDropdown()">
                <div class="dropdown" id="dropdownMenu">
                    <button>Settings</button>
                    <button onclick="logoutUser()">Logout</button>
                </div>
            </div>
        </div>  
    </header>
    <main>
        <form id="listingForm">
            <label>Listing Name :</label>
            <input type="text" id="productName" name="productName" required placeholder="Enter listing name">
            <label>Price ($): </label>
            <input type="text" id="productPrice" name="productPrice" required min="0" placeholder="Enter Price">
            <label>Description: </label>
            <textarea id="productDesc" name="productDesc" rows="3" required placeholder="Enter Description"></textarea>
            <label>Listing Image</label>
            <div id="image-container">
                <label for="productImage" class="custom-file-label">Upload Image</label>
                <input type="file" id="productImage" name="productImage" accept="image/*" required>
                <p id="file-name">No file chosen</p>
                <img id="preview-image" src="" alt="Image Preview" style="display: none; max-width: 100%; height: auto; margin-top: 10px;" />
            </div>  
            <button type="submit" id="create-listing">Create Listing</button>
        </form>        
    </main>
    <script>
        // Function to toggle the dropdown visibility
        function toggleDropdown() {
            let dropdown = document.getElementById("dropdownMenu");

            // Toggle the display of the dropdown menu
            if (dropdown) {
                dropdown.style.display = dropdown.style.display === "block" ? "none" : "block";
            }
        }

        // Close the dropdown if clicked outside of the dropdown or profile icon
        window.onclick = function(event) {
            let dropdown = document.getElementById("dropdownMenu");

            // Close dropdown if the click is outside the dropdown or profile icon
            if (!event.target.matches('.profile-icon') && !event.target.closest('#dropdownMenu')) {
                if (dropdown) {
                    dropdown.style.display = "none";
                }
            }
        };

        // Logout function (you can customize this as per your requirement)
        function logoutUser() {
            // Redirecting to login page
            window.location.href = "auth/login.html";  // Modify the URL as necessary
        }
    </script>
</body> 